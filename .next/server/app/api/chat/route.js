"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fhome%2Fkali%2FDesktop%2Fneura-ai%20(copy%201)%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fkali%2FDesktop%2Fneura-ai%20(copy%201)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fhome%2Fkali%2FDesktop%2Fneura-ai%20(copy%201)%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fkali%2FDesktop%2Fneura-ai%20(copy%201)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_kali_Desktop_neura_ai_copy_1_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/chat/route.ts */ \"(rsc)/./app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"/home/kali/Desktop/neura-ai (copy 1)/app/api/chat/route.ts\",\n    nextConfigOutput,\n    userland: _home_kali_Desktop_neura_ai_copy_1_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGa2FsaSUyRkRlc2t0b3AlMkZuZXVyYS1haSUyMChjb3B5JTIwMSklMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRmhvbWUlMkZrYWxpJTJGRGVza3RvcCUyRm5ldXJhLWFpJTIwKGNvcHklMjAxKSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNVO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV1cmEtYWkvPzI0MzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUva2FsaS9EZXNrdG9wL25ldXJhLWFpIChjb3B5IDEpL2FwcC9hcGkvY2hhdC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2hhdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoYXRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvaG9tZS9rYWxpL0Rlc2t0b3AvbmV1cmEtYWkgKGNvcHkgMSkvYXBwL2FwaS9jaGF0L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2NoYXQvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fhome%2Fkali%2FDesktop%2Fneura-ai%20(copy%201)%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fkali%2FDesktop%2Fneura-ai%20(copy%201)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/chat/route.ts":
/*!*******************************!*\
  !*** ./app/api/chat/route.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_rate_limit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/rate-limit */ \"(rsc)/./lib/rate-limit.ts\");\n\n\n// Variabel untuk konfigurasi Ollama\nconst OLLAMA_HOST = process.env.OLLAMA_HOST || \"http://localhost:11434\";\nconst DEFAULT_MODEL = process.env.DEFAULT_MODEL || \"qwen2.5:3b\";\nconst OLLAMA_TIMEOUT = 120000; // 120 detik (2 menit) timeout\n// Limiter: 5 requests per minute\nconst limiter = (0,_lib_rate_limit__WEBPACK_IMPORTED_MODULE_1__.rateLimit)({\n    interval: 60 * 1000,\n    uniqueTokenPerInterval: 500\n});\nasync function POST(req) {\n    const ip = req.ip ?? \"127.0.0.1\";\n    const apiKey = req.headers.get(\"Authorization\")?.split(\" \")[1];\n    if (!apiKey) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"API key diperlukan\"\n        }, {\n            status: 401\n        });\n    }\n    // Validasi API key\n    // TODO: Implementasikan validasi API key dengan database\n    try {\n        // Rate limiting\n        const result = await limiter.limit(ip);\n        if (!result.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Rate limit exceeded\"\n            }, {\n                status: 429\n            });\n        }\n        const { messages, model = DEFAULT_MODEL } = await req.json();\n        // Validasi input\n        if (!messages || !Array.isArray(messages) || messages.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Messages diperlukan dan harus berupa array\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(`[INFO] Processing chat request with model: ${model}`);\n        console.log(`[INFO] Message count: ${messages.length}`);\n        // Enkode ReadableStream untuk streaming response\n        const encoder = new TextEncoder();\n        const stream = new TransformStream();\n        const writer = stream.writable.getWriter();\n        // Buat abort controller untuk timeout\n        const controller = new AbortController();\n        const timeoutId = setTimeout(()=>{\n            controller.abort();\n            console.error(\"[ERROR] Request to Ollama timed out after 25s\");\n        }, OLLAMA_TIMEOUT);\n        // Proses asinkron untuk menangani response dari Ollama\n        (async ()=>{\n            try {\n                console.log(\"[INFO] Sending request to Ollama API...\");\n                const response = await fetch(`${OLLAMA_HOST}/api/generate`, {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        model,\n                        prompt: formatMessages(messages),\n                        stream: true\n                    }),\n                    signal: controller.signal\n                });\n                clearTimeout(timeoutId);\n                if (!response.ok) {\n                    const errorText = await response.text().catch(()=>\"Unknown error\");\n                    const error = `Ollama API returned ${response.status}: ${errorText}`;\n                    console.error(\"[ERROR]\", error);\n                    await writer.write(encoder.encode(`data: ${JSON.stringify({\n                        error\n                    })}\\n\\n`));\n                    await writer.close();\n                    return;\n                }\n                if (!response.body) {\n                    const error = \"No response body from Ollama\";\n                    console.error(\"[ERROR]\", error);\n                    await writer.write(encoder.encode(`data: ${JSON.stringify({\n                        error\n                    })}\\n\\n`));\n                    await writer.close();\n                    return;\n                }\n                console.log(\"[INFO] Streaming response from Ollama...\");\n                const reader = response.body.getReader();\n                const decoder = new TextDecoder();\n                // Stream response ke client\n                try {\n                    while(true){\n                        const { done, value } = await reader.read();\n                        if (done) {\n                            await writer.close();\n                            console.log(\"[INFO] Stream complete\");\n                            break;\n                        }\n                        const chunk = decoder.decode(value, {\n                            stream: true\n                        });\n                        const lines = chunk.split(\"\\n\");\n                        for (const line of lines){\n                            if (line.trim() === \"\") continue;\n                            try {\n                                const data = JSON.parse(line);\n                                if (data.done) {\n                                    await writer.close();\n                                    console.log(\"[INFO] Stream complete (marked as done)\");\n                                    return;\n                                }\n                                // Streaming response chunk\n                                const text = data.response || \"\";\n                                await writer.write(encoder.encode(`data: ${JSON.stringify({\n                                    text\n                                })}\\n\\n`));\n                            } catch (err) {\n                                console.error(\"[ERROR] Failed to parse JSON from Ollama:\", line);\n                                console.error(err);\n                            }\n                        }\n                    }\n                } catch (streamError) {\n                    console.error(\"[ERROR] Stream processing error:\", streamError);\n                    await writer.write(encoder.encode(`data: ${JSON.stringify({\n                        error: \"Error memproses stream respons\"\n                    })}\\n\\n`));\n                    await writer.close();\n                }\n            } catch (error) {\n                clearTimeout(timeoutId);\n                console.error(\"[ERROR] Ollama API error:\", error);\n                let errorMessage = \"Koneksi ke Ollama gagal\";\n                if (error instanceof Error) {\n                    if (error.name === \"AbortError\") {\n                        errorMessage = \"Koneksi ke Ollama timeout setelah 25 detik\";\n                    } else {\n                        errorMessage = error.message;\n                    }\n                }\n                await writer.write(encoder.encode(`data: ${JSON.stringify({\n                    error: errorMessage\n                })}\\n\\n`));\n                await writer.close();\n            }\n        })().catch(async (error)=>{\n            console.error(\"[ERROR] Unhandled promise rejection:\", error);\n            try {\n                await writer.write(encoder.encode(`data: ${JSON.stringify({\n                    error: \"Terjadi kesalahan yang tidak tertangani\"\n                })}\\n\\n`));\n                await writer.close();\n            } catch (e) {\n                console.error(\"[ERROR] Failed to write error to stream:\", e);\n            }\n        });\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(stream.readable, {\n            headers: {\n                \"Content-Type\": \"text/event-stream\",\n                \"Cache-Control\": \"no-cache, no-transform\",\n                \"Connection\": \"keep-alive\"\n            }\n        });\n    } catch (error) {\n        console.error(\"[ERROR] Error processing request:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Terjadi kesalahan internal\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Helper untuk memformat pesan dari format ChatGPT ke format text Ollama\nfunction formatMessages(messages) {\n    // Filter pesan system dan gabungkan dengan prompt\n    const systemPrompt = messages.find((m)=>m.role === \"system\")?.content || \"\";\n    // Ambil semua pesan user dan assistant dalam urutan kronologis\n    const conversation = messages.filter((m)=>m.role === \"user\" || m.role === \"assistant\");\n    // Format pesan dengan jelas\n    let formattedPrompt = systemPrompt ? `${systemPrompt}\\n\\n` : \"\";\n    for (const msg of conversation){\n        const role = msg.role === \"user\" ? \"Human\" : \"Assistant\";\n        formattedPrompt += `${role}: ${msg.content}\\n`;\n    }\n    // Tambahkan token akhir untuk AI\n    formattedPrompt += \"Assistant:\";\n    return formattedPrompt;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVLLElBQUlKLE9BQU8sQ0FBQyxFQUFFLENBQUM7SUFDaEQ7SUFFQSxpQ0FBaUM7SUFDakNHLG1CQUFtQjtJQUVuQixPQUFPQTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV1cmEtYWkvLi9hcHAvYXBpL2NoYXQvcm91dGUudHM/ZGU0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgcmF0ZUxpbWl0IH0gZnJvbSAnQC9saWIvcmF0ZS1saW1pdCc7XG5pbXBvcnQgeyBSYXRlbGltaXQgfSBmcm9tICdAL2xpYi90eXBlcyc7XG5cbi8vIFZhcmlhYmVsIHVudHVrIGtvbmZpZ3VyYXNpIE9sbGFtYVxuY29uc3QgT0xMQU1BX0hPU1QgPSBwcm9jZXNzLmVudi5PTExBTUFfSE9TVCB8fCAnaHR0cDovL2xvY2FsaG9zdDoxMTQzNCc7XG5jb25zdCBERUZBVUxUX01PREVMID0gcHJvY2Vzcy5lbnYuREVGQVVMVF9NT0RFTCB8fCAncXdlbjIuNTozYic7XG5jb25zdCBPTExBTUFfVElNRU9VVCA9IDEyMDAwMDsgLy8gMTIwIGRldGlrICgyIG1lbml0KSB0aW1lb3V0XG5cbi8vIExpbWl0ZXI6IDUgcmVxdWVzdHMgcGVyIG1pbnV0ZVxuY29uc3QgbGltaXRlciA9IHJhdGVMaW1pdCh7XG4gIGludGVydmFsOiA2MCAqIDEwMDAsIC8vIDYwIHNlY29uZHNcbiAgdW5pcXVlVG9rZW5QZXJJbnRlcnZhbDogNTAwLCAvLyBNYXggNTAwIHVzZXJzIHBlciBpbnRlcnZhbFxufSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgaXAgPSByZXEuaXAgPz8gJzEyNy4wLjAuMSc7XG4gIGNvbnN0IGFwaUtleSA9IHJlcS5oZWFkZXJzLmdldCgnQXV0aG9yaXphdGlvbicpPy5zcGxpdCgnICcpWzFdO1xuXG4gIGlmICghYXBpS2V5KSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0FQSSBrZXkgZGlwZXJsdWthbicgfSxcbiAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICk7XG4gIH1cblxuICAvLyBWYWxpZGFzaSBBUEkga2V5XG4gIC8vIFRPRE86IEltcGxlbWVudGFzaWthbiB2YWxpZGFzaSBBUEkga2V5IGRlbmdhbiBkYXRhYmFzZVxuXG4gIHRyeSB7XG4gICAgLy8gUmF0ZSBsaW1pdGluZ1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxpbWl0ZXIubGltaXQoaXApO1xuICAgIFxuICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1JhdGUgbGltaXQgZXhjZWVkZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MjkgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IG1lc3NhZ2VzLCBtb2RlbCA9IERFRkFVTFRfTU9ERUwgfSA9IGF3YWl0IHJlcS5qc29uKCk7XG5cbiAgICAvLyBWYWxpZGFzaSBpbnB1dFxuICAgIGlmICghbWVzc2FnZXMgfHwgIUFycmF5LmlzQXJyYXkobWVzc2FnZXMpIHx8IG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTWVzc2FnZXMgZGlwZXJsdWthbiBkYW4gaGFydXMgYmVydXBhIGFycmF5JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYFtJTkZPXSBQcm9jZXNzaW5nIGNoYXQgcmVxdWVzdCB3aXRoIG1vZGVsOiAke21vZGVsfWApO1xuICAgIGNvbnNvbGUubG9nKGBbSU5GT10gTWVzc2FnZSBjb3VudDogJHttZXNzYWdlcy5sZW5ndGh9YCk7XG5cbiAgICAvLyBFbmtvZGUgUmVhZGFibGVTdHJlYW0gdW50dWsgc3RyZWFtaW5nIHJlc3BvbnNlXG4gICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oKTtcbiAgICBjb25zdCB3cml0ZXIgPSBzdHJlYW0ud3JpdGFibGUuZ2V0V3JpdGVyKCk7XG5cbiAgICAvLyBCdWF0IGFib3J0IGNvbnRyb2xsZXIgdW50dWsgdGltZW91dFxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBjb25zb2xlLmVycm9yKCdbRVJST1JdIFJlcXVlc3QgdG8gT2xsYW1hIHRpbWVkIG91dCBhZnRlciAyNXMnKTtcbiAgICB9LCBPTExBTUFfVElNRU9VVCk7XG5cbiAgICAvLyBQcm9zZXMgYXNpbmtyb24gdW50dWsgbWVuYW5nYW5pIHJlc3BvbnNlIGRhcmkgT2xsYW1hXG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbSU5GT10gU2VuZGluZyByZXF1ZXN0IHRvIE9sbGFtYSBBUEkuLi4nKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7T0xMQU1BX0hPU1R9L2FwaS9nZW5lcmF0ZWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICBwcm9tcHQ6IGZvcm1hdE1lc3NhZ2VzKG1lc3NhZ2VzKSxcbiAgICAgICAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkuY2F0Y2goKCkgPT4gJ1Vua25vd24gZXJyb3InKTtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IGBPbGxhbWEgQVBJIHJldHVybmVkICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtlcnJvclRleHR9YDtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbRVJST1JdJywgZXJyb3IpO1xuICAgICAgICAgIFxuICAgICAgICAgIGF3YWl0IHdyaXRlci53cml0ZShcbiAgICAgICAgICAgIGVuY29kZXIuZW5jb2RlKGBkYXRhOiAke0pTT04uc3RyaW5naWZ5KHsgZXJyb3IgfSl9XFxuXFxuYClcbiAgICAgICAgICApO1xuICAgICAgICAgIGF3YWl0IHdyaXRlci5jbG9zZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gJ05vIHJlc3BvbnNlIGJvZHkgZnJvbSBPbGxhbWEnO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tFUlJPUl0nLCBlcnJvcik7XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgd3JpdGVyLndyaXRlKFxuICAgICAgICAgICAgZW5jb2Rlci5lbmNvZGUoYGRhdGE6ICR7SlNPTi5zdHJpbmdpZnkoeyBlcnJvciB9KX1cXG5cXG5gKVxuICAgICAgICAgICk7XG4gICAgICAgICAgYXdhaXQgd3JpdGVyLmNsb3NlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1tJTkZPXSBTdHJlYW1pbmcgcmVzcG9uc2UgZnJvbSBPbGxhbWEuLi4nKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCk7XG4gICAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcblxuICAgICAgICAvLyBTdHJlYW0gcmVzcG9uc2Uga2UgY2xpZW50XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHdyaXRlci5jbG9zZSgpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0lORk9dIFN0cmVhbSBjb21wbGV0ZScpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IGNodW5rLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSA9PT0gJycpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShsaW5lKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICBhd2FpdCB3cml0ZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbSU5GT10gU3RyZWFtIGNvbXBsZXRlIChtYXJrZWQgYXMgZG9uZSknKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU3RyZWFtaW5nIHJlc3BvbnNlIGNodW5rXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEucmVzcG9uc2UgfHwgJyc7XG4gICAgICAgICAgICAgICAgYXdhaXQgd3JpdGVyLndyaXRlKGVuY29kZXIuZW5jb2RlKGBkYXRhOiAke0pTT04uc3RyaW5naWZ5KHsgdGV4dCB9KX1cXG5cXG5gKSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tFUlJPUl0gRmFpbGVkIHRvIHBhcnNlIEpTT04gZnJvbSBPbGxhbWE6JywgbGluZSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChzdHJlYW1FcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tFUlJPUl0gU3RyZWFtIHByb2Nlc3NpbmcgZXJyb3I6Jywgc3RyZWFtRXJyb3IpO1xuICAgICAgICAgIGF3YWl0IHdyaXRlci53cml0ZShcbiAgICAgICAgICAgIGVuY29kZXIuZW5jb2RlKGBkYXRhOiAke0pTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdFcnJvciBtZW1wcm9zZXMgc3RyZWFtIHJlc3BvbnMnIH0pfVxcblxcbmApXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhd2FpdCB3cml0ZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tFUlJPUl0gT2xsYW1hIEFQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIFxuICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0tvbmVrc2kga2UgT2xsYW1hIGdhZ2FsJztcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnS29uZWtzaSBrZSBPbGxhbWEgdGltZW91dCBzZXRlbGFoIDI1IGRldGlrJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGF3YWl0IHdyaXRlci53cml0ZShcbiAgICAgICAgICBlbmNvZGVyLmVuY29kZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBlcnJvck1lc3NhZ2UgfSl9XFxuXFxuYClcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgd3JpdGVyLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSkoKS5jYXRjaChhc3luYyAoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tFUlJPUl0gVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uOicsIGVycm9yKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHdyaXRlci53cml0ZShcbiAgICAgICAgICBlbmNvZGVyLmVuY29kZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnVGVyamFkaSBrZXNhbGFoYW4geWFuZyB0aWRhayB0ZXJ0YW5nYW5pJyB9KX1cXG5cXG5gKVxuICAgICAgICApO1xuICAgICAgICBhd2FpdCB3cml0ZXIuY2xvc2UoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW0VSUk9SXSBGYWlsZWQgdG8gd3JpdGUgZXJyb3IgdG8gc3RyZWFtOicsIGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2Uoc3RyZWFtLnJlYWRhYmxlLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9ldmVudC1zdHJlYW0nLFxuICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZSwgbm8tdHJhbnNmb3JtJyxcbiAgICAgICAgJ0Nvbm5lY3Rpb24nOiAna2VlcC1hbGl2ZScsXG4gICAgICB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tFUlJPUl0gRXJyb3IgcHJvY2Vzc2luZyByZXF1ZXN0OicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnVGVyamFkaSBrZXNhbGFoYW4gaW50ZXJuYWwnIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbi8vIEhlbHBlciB1bnR1ayBtZW1mb3JtYXQgcGVzYW4gZGFyaSBmb3JtYXQgQ2hhdEdQVCBrZSBmb3JtYXQgdGV4dCBPbGxhbWFcbmZ1bmN0aW9uIGZvcm1hdE1lc3NhZ2VzKG1lc3NhZ2VzOiBhbnlbXSk6IHN0cmluZyB7XG4gIC8vIEZpbHRlciBwZXNhbiBzeXN0ZW0gZGFuIGdhYnVuZ2thbiBkZW5nYW4gcHJvbXB0XG4gIGNvbnN0IHN5c3RlbVByb21wdCA9IG1lc3NhZ2VzLmZpbmQobSA9PiBtLnJvbGUgPT09ICdzeXN0ZW0nKT8uY29udGVudCB8fCAnJztcbiAgXG4gIC8vIEFtYmlsIHNlbXVhIHBlc2FuIHVzZXIgZGFuIGFzc2lzdGFudCBkYWxhbSB1cnV0YW4ga3Jvbm9sb2dpc1xuICBjb25zdCBjb252ZXJzYXRpb24gPSBtZXNzYWdlcy5maWx0ZXIobSA9PiBtLnJvbGUgPT09ICd1c2VyJyB8fCBtLnJvbGUgPT09ICdhc3Npc3RhbnQnKTtcbiAgXG4gIC8vIEZvcm1hdCBwZXNhbiBkZW5nYW4gamVsYXNcbiAgbGV0IGZvcm1hdHRlZFByb21wdCA9IHN5c3RlbVByb21wdCA/IGAke3N5c3RlbVByb21wdH1cXG5cXG5gIDogJyc7XG4gIFxuICBmb3IgKGNvbnN0IG1zZyBvZiBjb252ZXJzYXRpb24pIHtcbiAgICBjb25zdCByb2xlID0gbXNnLnJvbGUgPT09ICd1c2VyJyA/ICdIdW1hbicgOiAnQXNzaXN0YW50JztcbiAgICBmb3JtYXR0ZWRQcm9tcHQgKz0gYCR7cm9sZX06ICR7bXNnLmNvbnRlbnR9XFxuYDtcbiAgfVxuICBcbiAgLy8gVGFtYmFoa2FuIHRva2VuIGFraGlyIHVudHVrIEFJXG4gIGZvcm1hdHRlZFByb21wdCArPSAnQXNzaXN0YW50Oic7XG4gIFxuICByZXR1cm4gZm9ybWF0dGVkUHJvbXB0O1xufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicmF0ZUxpbWl0IiwiT0xMQU1BX0hPU1QiLCJwcm9jZXNzIiwiZW52IiwiREVGQVVMVF9NT0RFTCIsIk9MTEFNQV9USU1FT1VUIiwibGltaXRlciIsImludGVydmFsIiwidW5pcXVlVG9rZW5QZXJJbnRlcnZhbCIsIlBPU1QiLCJyZXEiLCJpcCIsImFwaUtleSIsImhlYWRlcnMiLCJnZXQiLCJzcGxpdCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInJlc3VsdCIsImxpbWl0Iiwic3VjY2VzcyIsIm1lc3NhZ2VzIiwibW9kZWwiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwiZW5jb2RlciIsIlRleHRFbmNvZGVyIiwic3RyZWFtIiwiVHJhbnNmb3JtU3RyZWFtIiwid3JpdGVyIiwid3JpdGFibGUiLCJnZXRXcml0ZXIiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dElkIiwic2V0VGltZW91dCIsImFib3J0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicHJvbXB0IiwiZm9ybWF0TWVzc2FnZXMiLCJzaWduYWwiLCJjbGVhclRpbWVvdXQiLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJjYXRjaCIsIndyaXRlIiwiZW5jb2RlIiwiY2xvc2UiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJkZWNvZGVyIiwiVGV4dERlY29kZXIiLCJkb25lIiwidmFsdWUiLCJyZWFkIiwiY2h1bmsiLCJkZWNvZGUiLCJsaW5lcyIsImxpbmUiLCJ0cmltIiwiZGF0YSIsInBhcnNlIiwiZXJyIiwic3RyZWFtRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm5hbWUiLCJtZXNzYWdlIiwiZSIsInJlYWRhYmxlIiwic3lzdGVtUHJvbXB0IiwiZmluZCIsIm0iLCJyb2xlIiwiY29udGVudCIsImNvbnZlcnNhdGlvbiIsImZpbHRlciIsImZvcm1hdHRlZFByb21wdCIsIm1zZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/rate-limit.ts":
/*!***************************!*\
  !*** ./lib/rate-limit.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rateLimit: () => (/* binding */ rateLimit)\n/* harmony export */ });\nconst ratelimitCache = new Map();\nfunction rateLimit(config) {\n    return {\n        limit: async (identifier)=>{\n            const now = Date.now();\n            const tokenKey = `${identifier}:${Math.floor(now / config.interval)}`;\n            const cachedData = ratelimitCache.get(tokenKey) || {\n                tokens: [],\n                timestamp: now\n            };\n            const { tokens } = cachedData;\n            const limit = config.uniqueTokenPerInterval;\n            // Jika token sudah mencapai limit, rate limit tercapai\n            if (tokens.length >= limit) {\n                const reset = cachedData.timestamp + config.interval;\n                return {\n                    success: false,\n                    limit,\n                    remaining: 0,\n                    reset\n                };\n            }\n            // Tambahkan token baru\n            tokens.push(identifier);\n            // Update cache\n            ratelimitCache.set(tokenKey, {\n                tokens,\n                timestamp: cachedData.timestamp\n            });\n            // Bersihkan cache yang sudah expired\n            const tokensToClear = [];\n            for (const [key, value] of ratelimitCache.entries()){\n                if (now - value.timestamp > config.interval) {\n                    tokensToClear.push(key);\n                }\n            }\n            for (const key of tokensToClear){\n                ratelimitCache.delete(key);\n            }\n            return {\n                success: true,\n                limit,\n                remaining: limit - tokens.length,\n                reset: cachedData.timestamp + config.interval\n            };\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcmF0ZS1saW1pdC50cyIsIm1hcHBpbmdzIjoiOzs7O0FBRUEsTUFBTUEsaUJBQWlCLElBQUlDO0FBRXBCLFNBQVNDLFVBQVVDLE1BQXVCO0lBQy9DLE9BQU87UUFDTEMsT0FBTyxPQUFPQztZQUNaLE1BQU1DLE1BQU1DLEtBQUtELEdBQUc7WUFDcEIsTUFBTUUsV0FBVyxDQUFDLEVBQUVILFdBQVcsQ0FBQyxFQUFFSSxLQUFLQyxLQUFLLENBQUNKLE1BQU1ILE9BQU9RLFFBQVEsRUFBRSxDQUFDO1lBRXJFLE1BQU1DLGFBQWFaLGVBQWVhLEdBQUcsQ0FBQ0wsYUFBYTtnQkFDakRNLFFBQVEsRUFBRTtnQkFDVkMsV0FBV1Q7WUFDYjtZQUVBLE1BQU0sRUFBRVEsTUFBTSxFQUFFLEdBQUdGO1lBQ25CLE1BQU1SLFFBQVFELE9BQU9hLHNCQUFzQjtZQUUzQyx1REFBdUQ7WUFDdkQsSUFBSUYsT0FBT0csTUFBTSxJQUFJYixPQUFPO2dCQUMxQixNQUFNYyxRQUFRTixXQUFXRyxTQUFTLEdBQUdaLE9BQU9RLFFBQVE7Z0JBQ3BELE9BQU87b0JBQ0xRLFNBQVM7b0JBQ1RmO29CQUNBZ0IsV0FBVztvQkFDWEY7Z0JBQ0Y7WUFDRjtZQUVBLHVCQUF1QjtZQUN2QkosT0FBT08sSUFBSSxDQUFDaEI7WUFFWixlQUFlO1lBQ2ZMLGVBQWVzQixHQUFHLENBQUNkLFVBQVU7Z0JBQzNCTTtnQkFDQUMsV0FBV0gsV0FBV0csU0FBUztZQUNqQztZQUVBLHFDQUFxQztZQUNyQyxNQUFNUSxnQkFBZ0IsRUFBRTtZQUN4QixLQUFLLE1BQU0sQ0FBQ0MsS0FBS0MsTUFBTSxJQUFJekIsZUFBZTBCLE9BQU8sR0FBSTtnQkFDbkQsSUFBSXBCLE1BQU1tQixNQUFNVixTQUFTLEdBQUdaLE9BQU9RLFFBQVEsRUFBRTtvQkFDM0NZLGNBQWNGLElBQUksQ0FBQ0c7Z0JBQ3JCO1lBQ0Y7WUFFQSxLQUFLLE1BQU1BLE9BQU9ELGNBQWU7Z0JBQy9CdkIsZUFBZTJCLE1BQU0sQ0FBQ0g7WUFDeEI7WUFFQSxPQUFPO2dCQUNMTCxTQUFTO2dCQUNUZjtnQkFDQWdCLFdBQVdoQixRQUFRVSxPQUFPRyxNQUFNO2dCQUNoQ0MsT0FBT04sV0FBV0csU0FBUyxHQUFHWixPQUFPUSxRQUFRO1lBQy9DO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV1cmEtYWkvLi9saWIvcmF0ZS1saW1pdC50cz8yMmM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJhdGVsaW1pdENvbmZpZywgUmF0ZWxpbWl0LCBSYXRlbGltaXRSZXNwb25zZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCByYXRlbGltaXRDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCB7IHRva2Vuczogc3RyaW5nW10sIHRpbWVzdGFtcDogbnVtYmVyIH0+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiByYXRlTGltaXQoY29uZmlnOiBSYXRlbGltaXRDb25maWcpOiBSYXRlbGltaXQge1xuICByZXR1cm4ge1xuICAgIGxpbWl0OiBhc3luYyAoaWRlbnRpZmllcjogc3RyaW5nKTogUHJvbWlzZTxSYXRlbGltaXRSZXNwb25zZT4gPT4ge1xuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHRva2VuS2V5ID0gYCR7aWRlbnRpZmllcn06JHtNYXRoLmZsb29yKG5vdyAvIGNvbmZpZy5pbnRlcnZhbCl9YDtcblxuICAgICAgY29uc3QgY2FjaGVkRGF0YSA9IHJhdGVsaW1pdENhY2hlLmdldCh0b2tlbktleSkgfHwge1xuICAgICAgICB0b2tlbnM6IFtdLFxuICAgICAgICB0aW1lc3RhbXA6IG5vd1xuICAgICAgfTtcblxuICAgICAgY29uc3QgeyB0b2tlbnMgfSA9IGNhY2hlZERhdGE7XG4gICAgICBjb25zdCBsaW1pdCA9IGNvbmZpZy51bmlxdWVUb2tlblBlckludGVydmFsO1xuICAgICAgXG4gICAgICAvLyBKaWthIHRva2VuIHN1ZGFoIG1lbmNhcGFpIGxpbWl0LCByYXRlIGxpbWl0IHRlcmNhcGFpXG4gICAgICBpZiAodG9rZW5zLmxlbmd0aCA+PSBsaW1pdCkge1xuICAgICAgICBjb25zdCByZXNldCA9IGNhY2hlZERhdGEudGltZXN0YW1wICsgY29uZmlnLmludGVydmFsO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgIHJlbWFpbmluZzogMCxcbiAgICAgICAgICByZXNldFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBUYW1iYWhrYW4gdG9rZW4gYmFydVxuICAgICAgdG9rZW5zLnB1c2goaWRlbnRpZmllcik7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBjYWNoZVxuICAgICAgcmF0ZWxpbWl0Q2FjaGUuc2V0KHRva2VuS2V5LCB7XG4gICAgICAgIHRva2VucyxcbiAgICAgICAgdGltZXN0YW1wOiBjYWNoZWREYXRhLnRpbWVzdGFtcFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEJlcnNpaGthbiBjYWNoZSB5YW5nIHN1ZGFoIGV4cGlyZWRcbiAgICAgIGNvbnN0IHRva2Vuc1RvQ2xlYXIgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHJhdGVsaW1pdENhY2hlLmVudHJpZXMoKSkge1xuICAgICAgICBpZiAobm93IC0gdmFsdWUudGltZXN0YW1wID4gY29uZmlnLmludGVydmFsKSB7XG4gICAgICAgICAgdG9rZW5zVG9DbGVhci5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBrZXkgb2YgdG9rZW5zVG9DbGVhcikge1xuICAgICAgICByYXRlbGltaXRDYWNoZS5kZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbGltaXQsXG4gICAgICAgIHJlbWFpbmluZzogbGltaXQgLSB0b2tlbnMubGVuZ3RoLFxuICAgICAgICByZXNldDogY2FjaGVkRGF0YS50aW1lc3RhbXAgKyBjb25maWcuaW50ZXJ2YWxcbiAgICAgIH07XG4gICAgfVxuICB9O1xufSAiXSwibmFtZXMiOlsicmF0ZWxpbWl0Q2FjaGUiLCJNYXAiLCJyYXRlTGltaXQiLCJjb25maWciLCJsaW1pdCIsImlkZW50aWZpZXIiLCJub3ciLCJEYXRlIiwidG9rZW5LZXkiLCJNYXRoIiwiZmxvb3IiLCJpbnRlcnZhbCIsImNhY2hlZERhdGEiLCJnZXQiLCJ0b2tlbnMiLCJ0aW1lc3RhbXAiLCJ1bmlxdWVUb2tlblBlckludGVydmFsIiwibGVuZ3RoIiwicmVzZXQiLCJzdWNjZXNzIiwicmVtYWluaW5nIiwicHVzaCIsInNldCIsInRva2Vuc1RvQ2xlYXIiLCJrZXkiLCJ2YWx1ZSIsImVudHJpZXMiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/rate-limit.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fhome%2Fkali%2FDesktop%2Fneura-ai%20(copy%201)%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fkali%2FDesktop%2Fneura-ai%20(copy%201)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();